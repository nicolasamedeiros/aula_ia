<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHAMA - Sistema de Presença UCB</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <header class="header">
            <div class="header-content">
                <div class="logo-container">
                    <div class="logo-icon">
                        <div class="flame">
                            <div class="flame-outer"></div>
                            <div class="flame-inner"></div>
                        </div>
                    </div>
                    <h1 class="logo-text">CHAMA</h1>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div class="card">
                <div class="card-header">
                    <h2>Sistema de Confirmação de Presença</h2>
                    <p>Universidade Católica de Brasília</p>
                </div>
                
                <div class="card-body">
                    <!-- Indicador de etapas -->
                    <div class="step-indicator">
                        <div class="step active" id="step1">
                            <div class="step-circle">1</div>
                            <div class="step-text">Autenticação</div>
                        </div>
                        <div class="step" id="step2">
                            <div class="step-circle">2</div>
                            <div class="step-text">Foto</div>
                        </div>
                        <div class="step" id="step3">
                            <div class="step-circle">3</div>
                            <div class="step-text">Localização</div>
                        </div>
                    </div>

                    <!-- Etapa 1: Tela inicial -->
                    <div id="initialStep" class="step-content">
                        <p>Bem-vindo ao sistema de confirmação de presença. Clique no botão abaixo para iniciar o processo.</p>
                        <button id="confirmBtn" class="btn btn-primary btn-block">Iniciar Confirmação</button>
                    </div>
                    
                    <!-- Etapa 2: Autenticação com e-mail -->
                    <div id="authStep" class="step-content hidden">
                        <div class="form-group">
                            <label for="emailInput" class="form-label">E-mail Institucional</label>
                            <input type="email" id="emailInput" class="form-control" placeholder="seuemail@a.ucb.br">
                            <div id="emailError" class="error-message">E-mail não encontrado no sistema.</div>
                        </div>
                        <button id="authBtn" class="btn btn-primary btn-block">Continuar</button>
                    </div>
                    
                    <!-- Etapa 3: Captura de foto -->
                    <div id="photoStep" class="step-content hidden">
                        <div class="form-group">
                            <label class="form-label">Captura de Foto</label>
                            <p>Posicione seu rosto e clique no botão para capturar sua foto.</p>
                            
                            <div class="video-container">
                                <video id="videoElement" autoplay></video>
                                <div class="video-overlay">
                                    <i class="fas fa-camera"></i>
                                    <span>Prepare-se para a foto</span>
                                </div>
                            </div>
                            
                            <canvas id="canvas" class="hidden"></canvas>
                            <img id="capturedPhoto" class="hidden" alt="Foto capturada">
                        </div>
                        
                        <div id="captureControls">
                            <button id="captureBtn" class="btn btn-primary btn-block">Capturar Foto</button>
                        </div>
                        
                        <div id="photoControls" class="btn-group hidden">
                            <button id="retakeBtn" class="btn btn-secondary">Tirar Novamente</button>
                            <button id="confirmPhotoBtn" class="btn btn-success">Confirmar Foto</button>
                        </div>
                    </div>
                    
                    <!-- Etapa 4: Localização -->
                    <div id="locationStep" class="step-content hidden">
                        <div class="form-group">
                            <label class="form-label">Verificação de Localização</label>
                            <p>Precisamos verificar sua localização para confirmar a presença.</p>
                            
                            <div id="locationInfo" class="location-info">
                                Aguardando permissão para acessar a localização...
                            </div>
                        </div>
                        <button id="getLocationBtn" class="btn btn-primary btn-block">Obter Localização</button>
                    </div>
                    
                    <!-- Etapa 5: Sucesso -->
                    <div id="successStep" class="step-content hidden">
                        <div class="success-container">
                            <div class="success-icon">✓</div>
                            <div class="success-message">Presença registrada com sucesso!</div>
                            
                            <div id="registrationDetails" class="registration-details"></div>
                            
                            <button id="resetBtn" class="btn btn-primary btn-block" style="margin-top: 20px;">Nova Confirmação</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="footer">
            <p>© 2025 Sistema CHAMA - Universidade Católica de Brasília</p>
        </footer>
    </div>

    <script src="function.js"></script>
</body>
</html>